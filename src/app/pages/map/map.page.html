<ion-header>
  <ng-container *ngIf="days$ | async as days">
    <ion-toolbar>
      <ion-segment scrollable
                   mode="md"
                   (ionChange)="onDayFilterChange($event)"
                   [value]="selectedDayId$ | async">
        <ion-segment-button *ngFor="let day of days"
                            [value]="day.id">
          <ion-label>{{day.name}}</ion-label>
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ng-container>

  <ng-container *ngIf="events$ | async as events">
    <ion-toolbar class="event-filter"
                 color="medium">
      <ion-segment scrollable
                   mode="md"
                   (ionChange)="onEventFilterChange($event)"
                   [value]="selectedEventId$ | async">
        <ion-segment-button *ngFor="let event of events"
                            [value]="event.id">
          <ion-label>{{event.name}}</ion-label>
          <span class="event-color"
                [style.background-color]="event.event_type.color">
          </span>
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ng-container>
</ion-header>

<ion-content>
  <div id="map-container">
    <div *ngIf="(mapIdle$ | async)"
         [@fadeInOut]
         class="map-loading-animation">
      <ng-lottie [options]="animationOptions"></ng-lottie>
      <p *ngIf="mapIdle$ | async">Map loading...</p>
    </div>
  </div>
</ion-content>